# dnd_roguelike — Snapshot / Changelog

This file captures the current design and project state so you can safely
start a fresh chat without losing development context. It is a concise
reference of what's implemented, how to run things, and sensible next steps.

## Project snapshot (2026-02-08)
- Language: Python 3.14
- Tests: `unittest` (15 tests, all currently passing locally)
- Entry: `main.py` — wave-survival combat demo and CLI

## Key modules
- `main.py`: combat loop, initiative ordering, CLI flags (`--interactive`, `--create-character`, `--seed`, `--waves`, `--no-delay`, `--single-key`).
- `character.py`: `Character` model (HP, AC, attack, damage, potions, gold, bounty, XP & leveling, basic actions).
- `dice.py`: `roll_die` / `roll_dice` helpers.
- `monsters.py`: enemy factory used by `waves.py`.
- `waves.py`: `spawn_wave()` helper for wave scaling.
- `items.py`: `Item` dataclass and simple item handling.
- `creator.py`: interactive character creator with 12 D&D base classes and optional point-buy.
- `tests/`: unit tests covering combat, initiative, items, healer, loot, and leveling.

## Design decisions / mechanics
- Initiative: d20 + initiative bonus; tied totals use an extra d20 tie-break roll.
- Attacks: d20 + attack bonus; natural 20 is a crit (extra damage dice).
- Loot & XP: enemies have `bounty`; killing grants gold and `XP = bounty * 10`.
- Leveling: XP-to-next-level = `100 * level`. On level up: +1 level, +5 max HP (heal up to +5), +1 attack bonus, +1 AC every 2 levels.
- Items: simple `Potion` item increments `Character.potions` when added.
- Character creator: 12-class presets + optional 27-point buy (scores 8–15; 5e-style costs). Point-buy affects HP, attack, damage, AC, and initiative via ability modifiers.

## How to run
Run the demo:
```powershell
python main.py --interactive --seed 42
```

Use the creator before running:
```powershell
python main.py --create-character --interactive
```

Run tests:
```powershell
python -m unittest discover -s tests -p "test_*.py" -v
```

## If you clear chat (recommended workflow)
1. Commit and push your repo (history is the canonical record). Example:
```powershell
git add .
git commit -m "Save progress: add creator + point-buy + leveling"
git push
```
2. Save this file (`CHANGELOG.md`) — it contains the short project state.
3. Clear the chat to reset the model context; when you reopen, point me to this repo and I can continue working from files.

## Next suggested tasks
- Add `README` section documenting the creator + point-buy (small, done-on-request).
- Add save/load for created characters (`characters/` JSON files).
- Add unit tests for `creator.py` (simulate inputs using `unittest.mock`).
- Add CI (GitHub Actions) to run tests on push.

---
Generated by the assistant as a compact project snapshot — keep in repo as canonical context.
