D&D 2024 Core Rules Audit Report
==================================

STATUS: ⚠️ CRITICAL - Core mechanics not based on 2024 D&D rules

FINDINGS
========

The game currently uses HARDCODED stat values that DO NOT derive from actual
2024 D&D mechanics. This means character stats cannot adapt to ability scores
and don't follow D&D 2024 progression rules.

VERIFIED 2024 D&D SOURCE DATA INCLUDED
======================================

✅ Hit Dies (from class wikidot pages):
   - Barbarian: d12 (http://dnd2024.wikidot.com/barbarian:main)
   - Fighter: d10 (http://dnd2024.wikidot.com/fighter:main)
   - Rogue: d8 (http://dnd2024.wikidot.com/rogue:main)
   - Wizard: d6 (http://dnd2024.wikidot.com/wizard:main)
   - All others: documented and verified

✅ Proficiency Bonus (2024 D&D Table):
   - Levels 1-4: +2
   - Levels 5-8: +3
   - Levels 9-12: +4
   - Levels 13-16: +5
   - Levels 17-20: +6

❌ HP Calculation - Currently hardcoded:
   Current: "Barbarian": 35, "Fighter": 32, "Wizard": 21
   Should be: Hit Die + CON modifier
   Example: Barbarian with CON 14 (+2) = 12 + 2 = 14 HP at level 1
   DISCREPANCY: Current uses 35 (off by +21 HP!)

❌ AC Calculation - Currently hardcoded:
   Current: "Fighter": AC 17 (no armor basis shown)
   Should be: Depends on armor choice
   - No Armor: 10 + DEX modifier
   - Light Armor: 11-12 + DEX modifier
   - Medium Armor: 13-15 (some reduce DEX benefit)
   - Heavy Armor: 16-20
   DISCREPANCY: Doesn't match any armor category properly

❌ Attack Bonus - Currently hardcoded:
   Current: "Rogue": +5, "Wizard": +2
   Should be: STR/DEX modifier + Proficiency margin
   Example: STR 15 (+2) + Proficiency 2 = +4 attack
   DISCREPANCY: Current values don't show calculation

❌ Initiative - Currently hardcoded:
   Current: "Barbarian": 0, "Rogue": +3
   Should be: DEX modifier only
   Example: DEX 14 (+2) = Initiative +2
   DISCREPANCY: Current "Barbarian 0" should be DEX-based

❌ Damage Bonus - Currently hardcoded:
   Current: "Barbarian": +3, "Wizard": +0
   Should be: Ability modifier (STR or DEX depending on weapon)
   DISCREPANCY: No ability score basis shown

SOLUTION IMPLEMENTED
====================

Created class_definitions.py with:

1. ClassDefinition dataclass
   - Stores verified 2024 D&D hit die for each class
   - Links to official D&D wiki source
   - Includes methods for calculating stats properly

2. Verified class data from http://dnd2024.wikidot.com/:
   - All 13 classes with proper hit dies
   - Armor training restrictions
   - Weapon proficiencies
   - Primary ability scores
   - Saving throw proficiencies
   - Source URLs for each

3. Proper calculation methods:
   - calculate_hp(level, con_modifier) → follows 2024 D&D formula
   - get_proficiency_bonus(level) → 2024 D&D table
   - Can derive attack_bonus from ability scores
   - Can calculate AC from armor choice + DEX

NEXT STEPS TO INTEGRATE
=======================

1. Add ability score system to Character class
   - Use standard array [15, 14, 13, 12, 10, 8] or point buy
   - Calculate modifiers: (score - 10) // 2
   - Store: str, dex, con, int, wis, cha

2. Modify Character initialization
   - Accept ability scores instead of hardcoded stats
   - Call class_definitions to get hit die
   - Calculate HP = hit_die + con_mod
   - Calculate AC based on armor choice
   - Calculate attack_bonus = mod + proficiency

3. Update character_creator_gui.py
   - Show ability scores in character creation
   - Display calculated stats (not hardcoded)
   - Let users choose armor type for AC calculation

4. Update monsters.py
   - Use class_definitions for monster stat generation
   - Base monster difficulty on level and abilities

5. Add validation
   - Verify all stats derive from documented 2024 D&D rules
   - Add comments linking to source wikidot pages

FILES CREATED
=============
- class_definitions.py     (verified 2024 D&D class data)
- compare_stats.py         (shows discrepancies)
- DND_RULES_VERIFICATION.txt (this document)

TESTING SHOWS
=============

When compared with standard D&D starting ability scores (STR 15, DEX 14, CON 14):

                     Current Hardcoded    2024 D&D Calculation    Discrepancy
Barbarian HP:        35 HP               14 HP                   +21 (150% higher!)
Fighter AC:          17                  12-13                   +4-5 (mismatch)
Rogue Attack:        +5                  +4                      +1 (wrong formula)
Wizard HP:           21 HP               8 HP                    +13 (260% higher!)

RECOMMENDATION
==============

✅ PROCEED with integrating class_definitions.py
✅ ADD ability score system to Character class  
✅ REPLACE hardcoded values with formula-based calculations
✅ CITE 2024 D&D sources for every statistic
✅ ADD comments showing calculation in game code

This will ensure:
- Game mechanics align with published 2024 D&D rules
- Stats can be verified against official sources
- Character progression makes sense mathematically
- Different ability scores produce different outcomes
